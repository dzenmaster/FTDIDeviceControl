

1. Вычитать ID Flash (для M25P64 = 0x16)  -> addr=0x1 
   в соотвествии с документацией посмотреть начало/конец секторов.
   Для данной микросхемы имеется: 128 секторов по 256 страниц, 256 байт на страницу. Соотв. для текущей .rbf размером 827 854 байт потребуется 827854/(256*256) = 12,6 (округляем до 13) секторов.
   

3. Далее необходимо стереть 13 секторов 
   	- Записать StartAddress = 0x0 (для отладки пока так) в регистр сектора 0; -> addr=0x1 
	- Записать команду 0x3 (erase sector) -> addr = 0x3
	- Дождаться пакета OK
   	- проделать данную операцию для остальных секторов sector 1 = 1*0x010000; sector 1 = 2*0x010000; sector 12 = 12*0x010000

3. Записать полную длину файла (для текущего 827854 байт) -> addr=0x2 

4. Записать в регистр команду Update Firmware 0x4  -> addr=0x3 (Дождаться пакета OK)

5. Далее просто посылать пакеты по 1024 байта(последний пакет будет меньшего размера); после каждого пакета должен приходить пакет OK. 

6. Прочитать регистр -> addr=0x3 должно измениться значения с 0x4 на 0х0 (NULL)